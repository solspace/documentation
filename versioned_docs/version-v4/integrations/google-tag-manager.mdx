---
sidebar_position: 3
---

import { Photo } from '@site/src/components/utils';
import { VerticalStepWrapper, StepMarkdown } from '@site/src/components/docs';

import GTMPhoto from './assets/img/gtm.png';
import GTMCheckPhoto from './assets/img/check-gtm.png';

# Google Tag Manager

Freeform includes built-in support for [Google Tag Manager](https://tagmanager.google.com/) if you wish to use that with your forms.

This guide assumes you are familiar with [Google Tag Manager](https://tagmanager.google.com/). We cannot provide any assistance with setting this up, aside from the basics.

## Setup Instructions

<VerticalStepWrapper>
<StepMarkdown>
### Enable Google Tag Manager inside Freeform
- Enable the Google Tag Manager inside a form. This is done by checking the **Google Tag Manager** checkbox in the Form Settings tab in the form builder for each form.
- Specify the `GTM-XXXXXX` GTM ID that you have in your Google Tag Manager site for your project.
- Save the form.

<Photo img={GTMPhoto} alt="Range Slider" />

</StepMarkdown>
<StepMarkdown>
### Submit a Test Submission

- Visit your form on your site.
- Fill out the form and click _submit_.
- The data should have been pushed to GTM using the specified event name.

:::info
The success of this is not observable on your site, as this event goes to GTM via some sockets, so there's nothing in the network tab.
:::

</StepMarkdown>
<StepMarkdown>
### Check Google Tag Manager

To see if your test worked correctly, visit the [Google Tag Manager](https://tagmanager.google.com/) website and open your project workspace. Then click on the **PREVIEW** button near the top right side of the page.

<Photo img={GTMCheckPhoto} alt="Range Slider" />
</StepMarkdown>
<StepMarkdown>
### Troubleshooting

Google offers a [Tag Assistant](https://tagassistant.google.com/) tool along with a [Tag Assistant Companion](https://chrome.google.com/webstore/detail/tag-assistant-companion/jmekfmbnaedfebfnmakmokmlfpblbfdm) Chrome extension. These help troubleshoot installation of `gtag.js` and **Google Tag Manager**. When the Chrome extension is present, it enables additional features for Tag Assistant including debugging iframes and debugging multiple windows from the same debug session.

</StepMarkdown>
<StepMarkdown>
### Customizing

To customise what gets sent to the events, you can write your own JS and add an event listener, like this:

```js showLineNumbers
window.addEventListener('freeform-gtm-data-layer-push', function (event) {
  event.payload.myCustomValue = 'something_here';
  event.payload.otherCustomValue = 'other_value';
});
```

This would then attach whatever you add to the payload to the event that is being pushed to GTM.

</StepMarkdown>

</VerticalStepWrapper>
