---
sidebar_position: 2
---

import { Photo } from '@site/src/components/utils';
import { VerticalStepWrapper, StepMarkdown } from '@site/src/components/docs';

import MailtrapSMTPCredentialsPhoto from '../assets/img/mailtrap-email-testing.png';
import CraftEmailSettingsPhoto from '../assets/img/mailtrap-email-testing-2.png';
import MailtrapSuccessPhoto from '../assets/img/mailtrap-email-testing-3.png';

# Email Testing with Mailtrap

When building and setting up your site locally, you might wish to test and debug email notifications from Freeform without bothering your client and/or setting up an email server on your development environment. In cases like this, we highly recommend trying out an email testing service such as [Mailtrap](https://mailtrap.io/).

Mailtrap simulates a real SMTP server and allows you to see that each email notification was sent, as well as view all of the recipients' email messages in a single unified inbox, complete with tools to analyze and troubleshoot. This speeds up the testing process and lets you verify how each notification is rendered, etc. For more information, [click here to see how it works](https://mailtrap.io/how-it-works).

Follow the instructions below to set up Mailtrap for Craft (which then hijacks/controls all email notifications from Craft and Freeform, etc):

## Instructions

<VerticalStepWrapper>
<StepMarkdown>

- [Sign up for a Mailtrap account](https://mailtrap.io/register/signup).
- Select the _Free_ account to start (or a paid account if you think you need it).
  - Please note that the _Free_ account does have some limitations:
    - Maximum 500 emails per month
    - Maximum 5 emails every 10 seconds
      :::warning
      This is important to note, as some Freeform forms may be generating more than 5 email notifications. If so, Mailtrap will only collect/display 5 of the X number of notifications from Freeform.
      :::

</StepMarkdown>
<StepMarkdown>

Once your account has been created, click into your new inbox (probably named _Demo inbox_). The inbox page will default to having an _SMTP Settings_ tab open with credentials.

<Photo img={MailtrapSMTPCredentialsPhoto} alt="Mailtrap SMTP Credentials" />

</StepMarkdown>
<StepMarkdown>

- Open a new browser tab and go to the Email settings area in your Craft control panel (**CP** → **Settings** → **Email**), and then set up Mailtrap for Craft:
  - _Transport Type_ - select **SMTP**
  - _hostname_ - use `smtp.mailtrap.io`
  - _Port_ - use `2525`
  - Check off the _Use authentication_ checkbox
  - _Username_ - copy and paste the username in Mailtrap, e.g. `657gfg765df7f5`
  - _Password_ - copy and paste the username in Mailtrap, e.g. `87a569f8768765`
  - _Encryption Method_ - select **TLS**
  - _Timeout_ - `10`
    <Photo img={CraftEmailSettingsPhoto} alt="Craft Email Settings" />
- Click the **Test** button to verify it's working correctly. If it worked, you'll see an email message inside your Mailtrap inbox.
  <Photo img={MailtrapSuccessPhoto} alt="Mailtrap Success" />

</StepMarkdown>

</VerticalStepWrapper>

:::info
Now any email notification generated by Craft, Freeform or other third party plugins will use Mailtrap.
:::
