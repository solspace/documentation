---
title: 'HubSpot'
sidebar_position: 12
---

import { Badge, PrimaryButtonWithLink } from '@site/src/components/utils';
import { VerticalStepWrapper, StepMarkdown } from '@site/src/components/docs';

# HubSpot CRM Integration<Badge type="feature" text="Revised 3.13.18+" /><Badge type="pro" text="Pro" />

This guide assumes you have a [HubSpot](https://www.hubspot.com) account already.

:::info
If you're using the old _Legacy API Key_ version of the HubSpot integration, be sure to switch to this updated integration before. November 30, 2022. After that date, API calls made with the old API keys on or after November 30, 2022 will return 401 errors.

For existing HubSpot users (set up before 4.0.1 or 3.13.18), please see the [special update instructions](#2022-private-key-update-instructions).
:::

This documentation page assumes you have read over the [CRM Integration Overview](./index.mdx#crm). If you have not yet read it, please do so now. We also assume that you have a [HubSpot](http://hubspot.com) account already. This integration requires that you have _Freeform Pro_. If you currently have Freeform Lite, you can purchase an upgrade to Freeform Pro.

:::warning
Please note this is a complete integration between Freeform and HubSpot and should NOT be used along with [HubSpot's "Collected Forms" javascript-based feature](https://knowledge.hubspot.com/forms/use-non-hubspot-forms). Otherwise, you may observe unintended behavior.
:::

## Compatibility

HubSpot integration includes support for field mapping to standard and custom fields from all 3 endpoints listed below (of text/number string type only). It maps data to [Deals](http://developers.hubspot.com/docs/methods/deals/deals_overview) (optional), [Contacts](http://developers.hubspot.com/docs/methods/contacts/contacts-overview) and [Companies](http://developers.hubspot.com/docs/methods/companies/companies-overview) API endpoints.

## Duplicate Check & Update

A duplicate check on records is done in the following way:

1. Check whether the _Contact_ already exists:
   - Check against **Email address** as the identifier.
   - If there's a match, update the _Contact_ with new values, where supplied.
   - If no match, create a new HubSpot _Contact_.
2. Check whether the _Company_ already exists:
   - Check against **Company domain name**, which is automatically generated by HubSpot from the _Contact_ email address domain name.
   - If there's a match, update the _Company_ with new values, where supplied.
   - If no match, create a new HubSpot _Company_.
   - If a new _Contact_ was created, link the contact to the _Company_.
3. Create new _Deal_.
   - Attach the _Deal_ to existing or newly created HubSpot _Company_ and _Contact_.

## Setup Instructions

<VerticalStepWrapper>

<StepMarkdown>

### Create & get Private App token from HubSpot

- Go to [HubSpot](http://hubspot.com) and log into your account.
- At the top right corner, click on the profile icon and select **Profile & Preferences**.
- Click on the **Integrations** left navigation item, and then click on **Private Apps**.
- Click the **Create a Private App** button.
- In the next page, update the name and other information for the app as you wish.
- Click on the **Scopes** tab at the top.
- Then click on the **CRM** scope category and select _Write_ and _Read_ for:
  - `crm.objects.companies`
  - `crm.objects.contacts`
  - `crm.objects.deals`
- Click the orange **Create app** button at the top right corner of the page.
- When the modal loads with the private app token, copy that newly created token.

</StepMarkdown>

<StepMarkdown>

### Set up Integration on your site

- Go to the [CRM section in Freeform Settings](../configuration/settings.mdx#crm) (**Freeform > Settings > CRM**).
- Click the **New CRM Integration** at the top right.
- Select _HubSpot (v1)_ from the **Service Provider** select dropdown.
- Enter a name and handle for the integration.
- Paste the HubSpot Private App token into the **Private App Token** field in Freeform.
- Additional configuration:
  - **IP Address Field** (optional)
    - If you want to have the user's IP address sent over to the Contact in HubSpot, you can specify the custom HubSpot Contact field handle to receive it.
  - **Append checkbox group field values on Contact update?**<Badge type="feature" text="3.2.4+" />
    - If a Contact already exists in HubSpot, enabling this will append additional checkbox group field values to the Contact inside HubSpot, instead of overwriting the options.
  - **Append checkbox group field values on Company update?**<Badge type="feature" text="3.2.4+" />
    - If a Company already exists in HubSpot, enabling this will append additional checkbox group field values to the Company inside HubSpot, instead of overwriting the options.
- At the top right corner of Freeform page, click **Save** button.

</StepMarkdown>

<StepMarkdown>

### Verify Authorization

- After the integration is saved, it'll return you to the list of CRM integrations.
- Click into the newly created integration.
- Confirm that there is green circle with **Authorized** in the middle of the page.

</StepMarkdown>

</VerticalStepWrapper>

## 2022 Private Key Update Instructions

On June 1, 2022, [HubSpot announced that the API Key approach for integrations would be retired](https://developers.hubspot.com/changelog/upcoming-api-key-sunset) on November 30, 2022 in favor of the [Private App approach](https://developers.hubspot.com/docs/api/private-apps). This is a change that will break existing integrations, and requires an update to Freeform in order to fix the connection. API calls made with API keys on or after November 30, 2022 will return 401 errors.

On August 23, 2022, we released Freeform 4.0.1 to address this. For any existing users of this integration (set up before 4.0.1 or 3.13.18), please follow the below instructions to upgrade your connection:

1. Update to Freeform 4.0.1 or greater.
2. Go to the [CRM section in Freeform Settings](../configuration/settings.mdx#crm) (**Freeform > Settings > CRM**) and create a new integration.
3. Follow the steps above in the [Setup Instructions](#setup-instructions).
4. Open up all forms using HubSpot and update the integration to be the new HubSpot one you just created (and reapply mapping table).
5. Test out your form(s) to ensure things are still working smoothly.
6. Remove the old legacy HubSpot integration.
